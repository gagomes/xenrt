#!/usr/bin/python
import sys
from os.path import basename
from pprint import pformat
        
main = sys.argv[1]
auxs = sys.argv[2:]

sys.stdout.write("""# WARNING: Autogenerated file
# This file was created by '%s' from %s and %s, probably via calling `make'.

""" % (sys.argv[0], main, auxs) + open (main, 'rt').read() + """

# Auxillary scripts:

scripts = %s""" % pformat (dict([(basename(aux),
                                  (basename(aux), open(aux, 'rt').read()))
                                 for aux in auxs])))
